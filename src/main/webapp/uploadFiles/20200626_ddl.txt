create table tb_user
(
    id                   bigint auto_increment comment 'id'
        primary key,
    accountId            bigint                                 not null comment '계정ID',
    phoneNumberId        bigint                                 not null comment '폰번호ID',
    activeFlag           varchar(1)                             not null comment '활성화여부',
    lastPracticeDatetime datetime                               null comment '최근실행일시',
    telecomName          varchar(100)                           null comment 'Network 연결된 이동통신사',
    createDatetime       datetime   default current_timestamp() not null comment '생성일시',
    createHost           varchar(40)                            not null comment '생성ID',
    updateDatetime       datetime   default current_timestamp() not null comment '수정일시',
    updateHost           varchar(40)                            not null comment '수정ID',
    constraint ux1_user
        unique (accountId, phoneNumberId)
)
    comment '사용자' collate = utf8mb4_bin;

create index ix1_user
    on tb_user (phoneNumberId);



create table tb_user_account
(
    id                    bigint auto_increment comment 'id'
        primary key,
    accountEmail          varchar(80)                          not null comment '계정이메일',
    accountPassword       varchar(80)                          null comment '계정암호[IOS]',
    birthDay              varchar(8)                           null comment '생년월일[AN]',
    sexCode               varchar(1)                           null comment '성별코드[AN]',
    openScopeCode         varchar(1)                           null comment '공개범위코드(A=모두공개, F=친구만공개, B=모두비공개)',
    countryCode           varchar(10)                          null comment '국가코드',
    joinDivisionCode      varchar(2)                           null comment '가입구분코드[IOS] (F:FACEBOOK, G:GOOGLE, E:EMAIL)',
    userName              varchar(60)                          null comment '사용자명',
    firstPracticeDatetime datetime                             null comment '최초실행일시',
    lastPracticeDatetime  datetime                             null comment '최근실행일시',
    createDatetime        datetime default current_timestamp() not null comment '생성일시',
    createHost            varchar(40)                          not null comment '생성ID',
    updateDatetime        datetime default current_timestamp() not null comment '수정일시',
    updateHost            varchar(40)                          not null comment '수정ID',
    constraint ux_user_account
        unique (accountEmail)
)
    comment '계정' collate = utf8mb4_bin;



create table tb_sys_qna
(
    id                 bigint auto_increment comment 'id'
        primary key,
    accountEmail       varchar(80)                            null comment '계정이메일',
    userPhoneNumber    varchar(20)                            null comment '사용자폰번호',
    replyEmailAddress  varchar(60)                            null comment '이메일주소',
    questionContent    varchar(1800)                          null comment '문의내용',
    replyFlag          varchar(1) default 'N'                 not null comment '답변여부',
    questionTypeCode   varchar(3)                             null comment '문의유형코드',
    replyContent       varchar(4000)                          null comment '답변내용',
    replyId            varchar(10)                            null comment '답변ID',
    replyDatetime      datetime                               null comment '답변일시',
    replyEmailFlag     varchar(1) default 'N'                 not null comment '답변이메일여부',
    replyEmailId       varchar(10)                            null comment '답변이메일ID',
    replyEmailDatetime datetime                               null comment '답변이메일일시',
    qnaTypeCode        varchar(1)                             null comment '질의응답유형코드',
    createDatetime     datetime   default current_timestamp() not null comment '생성일시',
    createHost         varchar(40)                            not null comment '생성ID',
    updateDatetime     datetime   default current_timestamp() not null comment '수정일시',
    updateHost         varchar(40)                            not null comment '수정ID'
)
    comment '질의응답' collate = utf8mb4_bin;

create index ix_sys_qna
    on tb_sys_qna (accountEmail);

create table tb_user_phone_number
(
    id                    bigint auto_increment comment 'id'
        primary key,
    userPhoneNumber       varchar(20)                          not null comment '사용자폰번호',
    firstPracticeDatetime datetime                             null comment '최초실행일시',
    lastPracticeDatetime  datetime                             null comment '최근실행일시',
    createDatetime        datetime default current_timestamp() not null comment '생성일시',
    createHost            varchar(40)                          not null comment '생성ID',
    updateDatetime        datetime default current_timestamp() not null comment '수정일시',
    updateHost            varchar(40)                          not null comment '수정ID',
    constraint ux_user_phone_number
        unique (userPhoneNumber)
)
    comment '폰번호' collate = utf8mb4_bin;


